# 通用统计

该模块主要是处理一些复杂的数据统计功能，通过离线的定时任务方式统计和处理，最后将处理结果汇总到指定数据表中，所以需要自己在数据库准备好目标库和表。
可以通过[通用统计文档](http://gitbook.duowan.com/dwdoc/datastatic/)了解

## 补充 
- 源表配置实际是定时任务获取数据源的方式，最终获取的数据与配置表的查询结果中的数据一致。注意：需要在配置中勾选分组计算
![common-query1](../src/img/common-query1.png)
- 在通用统计系统新建定时任务时，填入的数据源地址需要是经过分组配置的查询页的地址，配置方式是在源表的查询结果结果页的右侧选中分组计算选项（标注1），然后将需要分组的字段设置成分组，然后需要入库的数据字段设置为保留（标注2），设置好以后地址栏除域名部分就是数据源地址（地址栏的地址会有urlencode处理，可以在填入时自行解码），否则，在调试的过程中查询结果将不会执行插入操作
- 通用统计系统中的目标数据库和目标数据表填的是需要更新的数据库和表，可能需要自己额外准备
- 需要重复调试任务时，需要先将该任务的上一次调试结果日志先删除，日志可以在离线任务流水功能中通过任务ID找到
- 每个统计任务只能处理一张目标数据表，所以需要操作多张数据表的任务需要拆分

